<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>EP:68 Async + Custom Promises</title>
</head>
<body>
<script>

  // Custom promise, new Promise(resolve and reject)
  // Reject trigger the .catch()
  // Resolve is the result for the promise
  function breathe(amount) {
    return new Promise((resolve, reject) => {
      if(amount < 500) {
        reject('Number too small');
      }
      setTimeout(() => resolve(`Done for ${amount} ms`), amount);
    });
  }

  breathe(1000).then(res => {
    console.log(res);
    return breathe(500);
  }).then(res => {
    console.log(res);
    return breathe(600);
  }).then(res => {
    console.log(res);
    return breathe(300);
  }).catch(err => {
    console.error(err)
  });

</script>
</body>
</html>