<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>EP:72 Promisify Functions Callback</title>
</head>
<body>
<script>
  /*navigator.geolocation.getCurrentPosition((pos) => {
    console.log('it worked')
    console.log(pos)
  }, (err) => {
    console.log('it failed')
    console.log(err)
  });*/

  // 
  function getCurrentPosition(...args) {
    return new Promise((resolve, reject) => {
      // Properly done resolve, else reject
      navigator.geolocation.getCurrentPosition(...args, resolve, reject);
    });
  }

  // Await things inside async functions
  // No callback, we used await keyword
  async function go() {
    console.log('Start waiting');
    const position = await getCurrentPosition();
    console.log(position);
    console.log('Finish promsie');
  }

  go();

</script>
</body>
</html>